<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VRSG Rhythm Game</title>
<style>
  body {
    margin: 0;
    background: #111;
    color: white;
    font-family: sans-serif;
    overflow: hidden;
  }
  #gameCanvas {
    display: block;
    margin: 0 auto;
    background: #222;
    border: 2px solid #555;
  }
  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 24px;
  }
</style>
</head>
<body>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<div id="score">Score: 0</div>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const lanes = 4; // number of lanes
const laneWidth = canvas.width / lanes;
let notes = [];
let score = 0;
const keyMap = ['d', 'f', 'j', 'k']; // keys for each lane

// Sample notes (time in ms when they reach bottom)
const bpm = 120;
const beatInterval = 60000 / bpm;
for (let i = 1; i <= 50; i++) {
  const lane = Math.floor(Math.random() * lanes);
  notes.push({lane, y: -i * 100, hit: false});
}

// Game loop
function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw lanes
  for (let i = 1; i < lanes; i++) {
    ctx.strokeStyle = '#555';
    ctx.beginPath();
    ctx.moveTo(i * laneWidth, 0);
    ctx.lineTo(i * laneWidth, canvas.height);
    ctx.stroke();
  }

  // Draw notes
  notes.forEach(note => {
    if (!note.hit) {
      ctx.fillStyle = 'cyan';
      ctx.fillRect(note.lane * laneWidth + 5, note.y, laneWidth - 10, 20);
      note.y += 4; // note speed
    }
  });

  requestAnimationFrame(gameLoop);
}

// Hit detection
document.addEventListener('keydown', e => {
  const keyIndex = keyMap.indexOf(e.key);
  if (keyIndex !== -1) {
    notes.forEach(note => {
      if (!note.hit && note.lane === keyIndex && note.y > canvas.height - 50 && note.y < canvas.height) {
        note.hit = true;
        score += 100;
        document.getElementById('score').textContent = `Score: ${score}`;
      }
    });
  }
});

gameLoop();
</script>
</body>
</html>
